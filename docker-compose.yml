version: '2.2'

services:

  unifi:
    image: stlouisn/unifi
    container_name: unifi
    hostname: unifi
    restart: always
    volumes:
      - ./unifi/config:/usr/lib/unifi/data:rw
    depends_on:
      - mongo
    links:
      - mongo:mongo
    logging:
      driver: json-file
      options:
        max-size: "10m"
        max-file: "3"

 mongo:
    image: library/mongo
    container_name: mongo
    hostname: mongo
    command:
      - '--smallfiles'
      - '--storageEngine'
      - 'wiredTiger'
    restart: always
    volumes:
      - ./mongo/config:/data/configdb:rw
      - ./mongo/data:/data/db:rw
    logging:
      driver: json-file
      options:
        max-size: "10m"
        max-file: "3"
